<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet" />
  <title>Document</title>
</head>

<body>
  <div>
    <div class="min-h-screen flex items-center justify-center bg-gray-100 w-full bg-cover bg-center bg-no-repeat"
      style="background-image: url('assets/images/background.jpg')">
      <div class="mx-auto px-4 max-w-xl">
        <h1 class="text-center text-3xl font-bold text-gray-800 mb-8">
          Забронируйте VIP Опыт
        </h1>
        <div class="container w-[90%] sm:w-[600px] bg-white rounded-lg shadow-lg p-8">
          <div class="w-full bg-gray-200 rounded-lg p-2 flex justify-between space-x-2">
            <button id="international-flight"
              class="w-full py-2 rounded-lg bg-white text-gray-700 font-semibold shadow-sm focus:outline-none focus:ring-none"
              onclick="toggleFlightType('international')">
              Международный Рейс
            </button>

            <button id="domestic-flight"
              class="w-full py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold shadow-sm focus:outline-none focus:ring-none"
              onclick="toggleFlightType('domestic')">
              Внутренний Рейс
            </button>
          </div>

          <form action="#" method="POST" class="space-y-4">
            <div class="flex flex-col space-y-2">
              <label for="date" class="text-gray-700 font-bold">Дата</label>
              <div class="relative">
                <input type="text" id="date"
                  class="w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-700 focus:border-gray-700"
                  placeholder="Выберите дату" />
                <svg class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-900 w-5 h-5"
                  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 610.398 610.398" fill="text-gray-900"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <g>
                    <g>
                      <path d="M159.567,0h-15.329c-1.956,0-3.811,0.411-5.608,0.995c-8.979,2.912-15.616,12.498-15.616,23.997v10.552v27.009v14.052
                        c0,2.611,0.435,5.078,1.066,7.44c2.702,10.146,10.653,17.552,20.158,17.552h15.329c11.724,0,21.224-11.188,21.224-24.992V62.553
                        V35.544V24.992C180.791,11.188,171.291,0,159.567,0z" />
                      <path
                        d="M461.288,0h-15.329c-11.724,0-21.224,11.188-21.224,24.992v10.552v27.009v14.052c0,13.804,9.5,24.992,21.224,24.992
                        h15.329c11.724,0,21.224-11.188,21.224-24.992V62.553V35.544V24.992C482.507,11.188,473.007,0,461.288,0z" />
                      <path
                        d="M539.586,62.553h-37.954v14.052c0,24.327-18.102,44.117-40.349,44.117h-15.329c-22.247,0-40.349-19.79-40.349-44.117
                        V62.553H199.916v14.052c0,24.327-18.102,44.117-40.349,44.117h-15.329c-22.248,0-40.349-19.79-40.349-44.117V62.553H70.818
                        c-21.066,0-38.15,16.017-38.15,35.764v476.318c0,19.784,17.083,35.764,38.15,35.764h468.763c21.085,0,38.149-15.984,38.149-35.764
                        V98.322C577.735,78.575,560.671,62.553,539.586,62.553z M527.757,557.9l-446.502-0.172V173.717h446.502V557.9z" />
                    </g>
                  </g>
                </svg>
              </div>
            </div>

            <div class="flex flex-col space-y-2">
              <label for="direction" class="text-gray-700 font-bold">Направление</label>

              <div class="flex items-center space-x-4">
                <label class="flex items-center space-x-2">
                  <input type="radio" name="direction" value="arrival" class="hidden peer" checked />
                  <span
                    class="w-4 h-4 border-2 rounded-full inline-block peer-checked:bg-gray-700 peer-checked:border-gray-700"></span>
                  <span class="text-gray-700">Прилет</span>
                </label>

                <label class="flex items-center space-x-2">
                  <input type="radio" name="direction" value="departure" class="hidden peer" />
                  <span
                    class="w-4 h-4 border-2 rounded-full inline-block peer-checked:bg-gray-700 peer-checked:border-gray-700"></span>
                  <span class="text-gray-700">Вылет</span>
                </label>
              </div>
            </div>

            <div class="flex flex-col sm:flex-row justify-between sm:space-x-4 space-y-4 sm:space-y-0">
              <div class="flex flex-col space-y-2 w-full sm:w-auto">
                <label for="adults" class="text-gray-700 font-medium">Взрослые</label>
                <div class="flex items-center space-x-2">
                  <input type="number" id="adults" name="adults" min="0" value="0" readonly
                    class="w-16 text-center px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-700 focus:border-gray-700" />
                  <button type="button" onclick="decrement('adults')"
                    class="px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg shadow-sm hover:bg-gray-300 focus:outline-none">
                    -
                  </button>
                  <button type="button" onclick="increment('adults')"
                    class="px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg shadow-sm hover:bg-gray-300 focus:outline-none">
                    +
                  </button>
                </div>
              </div>

              <div class="flex flex-col space-y-2 w-full sm:w-auto">
                <label for="children" class="text-gray-700 font-medium">Дети (3-12 лет)</label>
                <div class="flex items-center space-x-2">
                  <input type="number" id="children" name="children" min="0" value="0" readonly
                    class="w-16 text-center px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-700 focus:border-gray-700" />
                  <button type="button" onclick="decrement('children')"
                    class="px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg shadow-sm hover:bg-gray-300 focus:outline-none">
                    -
                  </button>
                  <button type="button" onclick="increment('children')"
                    class="px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg shadow-sm hover:bg-gray-300 focus:outline-none">
                    +
                  </button>
                </div>
              </div>

              <div class="flex flex-col space-y-2 w-full sm:w-auto">
                <label for="infants" class="text-gray-700 font-medium">Дети до 3-х лет</label>
                <div class="flex items-center space-x-2">
                  <input type="number" id="infants" name="infants" min="0" value="0" readonly
                    class="w-16 text-center px-2 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-700 focus:border-gray-700" />
                  <button type="button" onclick="decrement('infants')"
                    class="px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg shadow-sm hover:bg-gray-300 focus:outline-none">
                    -
                  </button>
                  <button type="button" onclick="increment('infants')"
                    class="px-4 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg shadow-sm hover:bg-gray-300 focus:outline-none">
                    +
                  </button>
                </div>
              </div>
            </div>

            <div id="passengerNames" class="max-h-[150px] overflow-auto space-y-2 p-1">
            </div>

            <div class="flex flex-col sm:flex-row justify-between sm:space-x-4 space-y-4 sm:space-y-0">
              <div class="flex flex-col space-y-2 w-full">
                <label for="email" class="text-gray-700 font-medium">Эл. почта</label>
                <input type="email" id="email" name="email" placeholder="Введите почту"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-700 focus:border-gray-700" />
              </div>

              <div class="flex flex-col space-y-2 w-full">
                <label for="phone" class="text-gray-700 font-medium">Номер телефона</label>
                <input type="tel" id="phone" name="phone" placeholder="Введите номер"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-700 focus:border-gray-700" />
              </div>
            </div>

            <div class="flex flex-col space-y-2 w-full">
              <label for="destination-city" class="text-gray-700 font-medium">Город назначения</label>
              <select id="destination-city" name="destination-city"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-700 focus:border-gray-700">
                <option value="" disabled selected>Выберите город</option>
              </select>
            </div>

            <div id="total-cost" class="w-full p-4 mt-4 bg-gray-100 text-center rounded-lg">
              <p class="text-lg font-semibold">Итоговая стоимость: <span id="cost-value" class="text-green-500">0
                  сом</span></p>
            </div>

            <div class="flex justify-end">
              <button type="submit"
                class="w-full px-6 py-2 bg-yellow-500 text-white font-bold rounded-lg hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                Забронировать
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ru.js"></script>

  <script>
    flatpickr("#date", {
      locale: "ru",
      dateFormat: "d.m.Y",
    });

    let flightType = "international";
    const domesticBaseCostAdult = 5000;
    const domesticBaseCostChild = 3000;
    const internationalBaseCostAdult = 9200;
    const internationalBaseCostChild = 5000;
    const adultsInput = document.getElementById("adults");
    const childrenInput = document.getElementById("children");
    const costDisplay = document.getElementById("cost-value");
    const domesticBtn = document.getElementById("domestic-flight");
    const internationalBtn = document.getElementById("international-flight");
    const passengerNamesContainer = document.getElementById("passengerNames");
    const destinationCitySelect = document.getElementById("destination-city");
    const internationalCities = ["Нью-Йорк", "Париж", "Лондон", "Дубай", "Токио"];
    const domesticCities = ["Бишкек", "Ош", "Нарын", "Жалал-Абад", "Кара-Балта", "Кызыл-Кия"];

    const buttons = {
      international: document.getElementById("international-flight"),
      domestic: document.getElementById("domestic-flight"),
    };

    function updatePassengerFields() {
      passengerNamesContainer.innerHTML = "";

      const totalPassengers = parseInt(adultsInput.value) + parseInt(childrenInput.value);

      for (let i = 1; i <= totalPassengers; i++) {
        const div = document.createElement("div");
        div.classList.add("flex", "flex-col", "space-y-2");
        div.innerHTML = `
      <label for="passenger-${i}" class="text-gray-700 font-medium">ФИО ${i} - пассажира </label>
      <input type="text" id="passenger-${i}" name="passenger-${i}" placeholder="Введите ФИО пассажира"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-700 focus:border-gray-700" />
    `;
        passengerNamesContainer.appendChild(div);
      }
    }

    function increment(id) {
      const input = document.getElementById(id);
      input.value = parseInt(input.value) + 1;
      updatePassengerFields()
      updateCost(flightType);
    }

    function decrement(id) {
      const input = document.getElementById(id);
      const currentValue = parseInt(input.value);
      if (currentValue > 0) {
        input.value = currentValue - 1;
        updatePassengerFields();
        updateCost(flightType);
      }
    }

    function updateCityOptions(cities) {
      destinationCitySelect.innerHTML = '<option value="" disabled selected>Выберите город</option>';
      cities.forEach((city) => {
        const option = document.createElement("option");
        option.value = city;
        option.textContent = city;
        destinationCitySelect.appendChild(option);
      });
    }

    function toggleFlightType(selectedType) {
      flightType = selectedType;

      if (selectedType === "international") {
        internationalBtn.classList.add("bg-white");
        internationalBtn.classList.remove("bg-gray-200");
        domesticBtn.classList.add("bg-gray-200");
        domesticBtn.classList.remove("bg-white");
        updateCityOptions(internationalCities);
      } else if (selectedType === "domestic") {
        domesticBtn.classList.add("bg-white");
        domesticBtn.classList.remove("bg-gray-200");
        internationalBtn.classList.add("bg-gray-200");
        internationalBtn.classList.remove("bg-white");
        updateCityOptions(domesticCities);
      }
    }

    function updateCost(type) {
      let totalCost = 0;
      const adultsCount = parseInt(adultsInput.value) || 0;
      const childrenCount = parseInt(childrenInput.value) || 0;

      if (type === 'international') {
        totalCost = (adultsCount * internationalBaseCostAdult) + (childrenCount * internationalBaseCostChild);
      } else {
        totalCost = (adultsCount * domesticBaseCostAdult) + (childrenCount * domesticBaseCostChild);
      }

      costDisplay.textContent = `${totalCost} сом`;
    }

    toggleFlightType(flightType);
  </script>

</body>

</html>